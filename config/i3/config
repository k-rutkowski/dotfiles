# -------------------
# i3 config file (v4)
# -------------------

set $mod Mod1
set $sup Mod4
floating_modifier $mod

include $HOME/.config/i3/workspaces.conf
include $HOME/.config/i3/keybindings.conf
include $HOME/.config/i3/theme.conf

focus_follows_mouse no
workspace_auto_back_and_forth yes
for_window [urgent=latest] focus

# Start XDG autostart .desktop files using dex. See also
# https://wiki.archlinux.org/index.php/XDG_Autostart
exec --no-startup-id dex --autostart --environment i3

# xss-lock grabs a logind suspend inhibit lock and will use i3lock to lock the
# screen before suspend. Use loginctl lock-session to lock your screen.
exec --no-startup-id xss-lock --transfer-sleep-lock -- i3lock --nofork

# Autolock screen after several minutes of inactivity
exec --no-startup-id xautolock -locker "~/.bin/lock-screen.sh" -time 15 -detectsleep -notify 10

# NetworkManager tray applet
#exec --no-startup-id nm-applet

# Desktop environment
exec picom
exec_always ~/.config/polybar/launch.sh &
exec_always nitrogen --restore              # wallpaper selected with nitrogen
exec_always ~/.screenlayout/home.sh         # monitor conf. created with arandr

# Applications
exec flatpak run com.spotify.Client

